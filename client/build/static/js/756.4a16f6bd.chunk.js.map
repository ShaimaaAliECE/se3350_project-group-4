{"version":3,"file":"static/js/756.4a16f6bd.chunk.js","mappings":"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","sources":["pages/Register.js","utils/axios.js"],"sourcesContent":["import React, { useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"utils/axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Animated } from \"react-animated-css\";\r\nimport clickSound from \"assets/audios/ClickSound2.mp3\";\r\nimport { motion } from \"framer-motion\";\r\n\r\n// Register Page\r\nconst Register = (props) => {\r\n  // react-hook-form component used to validate user input\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  // watching password to make sure the passwords match\r\n  const password = useRef({});\r\n  password.current = watch(\"password\", \"\");\r\n\r\n  // submit login form function\r\n  const onSubmit = async (data) => {\r\n    //register function implementation\r\n    try {\r\n      const { username, password } = data;\r\n      const res = await axios.post(\"/auth/register\", {\r\n        username,\r\n        password,\r\n        type: 0,\r\n      });\r\n      console.log(res.data);\r\n      const jwToken = res.data;\r\n      console.log(jwToken);\r\n      global.auth.setToken(jwToken);\r\n      toast.success(\"Register Success\");\r\n      //redirect to home page\r\n      props.history.push(\"/alg\");\r\n    } catch (error) {\r\n      const message = error.response.data.message;\r\n      toast.error(message);\r\n    }\r\n  };\r\n\r\n  function playSound() {\r\n    new Audio(clickSound).play();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* header */}\r\n      <Animated animationIn=\"fadeInLeft\" animationOut=\"bounce\" isVisible={true}>\r\n        <RegisterHeader />\r\n        <div className=\"login-wrapper\">\r\n          <form className=\"login-box\" onSubmit={handleSubmit(onSubmit)}>\r\n            <h4 className=\"title is-2 has-text-light\">Create Account</h4>\r\n            {/* username */}\r\n            <div className=\"field\">\r\n              <label className=\"label has-text-white has-text-weight-light\">\r\n                Username\r\n              </label>\r\n              <div className=\"control\">\r\n                <input\r\n                  className={`input is-size-5 ${\r\n                    errors.username && \"is-danger\"\r\n                  }`}\r\n                  type=\"text\"\r\n                  placeholder=\"username\"\r\n                  name=\"username\"\r\n                  // username input form validation\r\n                  {...register(\"username\", {\r\n                    required: \"you must specify a username\", //can't be empty\r\n                    pattern: {\r\n                      // must start with A-Z or a-z, and be 5-20 characters in length\r\n                      value: /^[A-Za-z][A-Za-z0-9_]{4,21}$/,\r\n                      message: \"username must start with a letter.\",\r\n                    },\r\n                    minLength: {\r\n                      value: 5, // at least 5 characters\r\n                      message: \"username must be at least 5 characters.\",\r\n                    },\r\n                    maxLength: {\r\n                      value: 20, // at most 20 characters\r\n                      message: \"username must be less than 20 characters.\",\r\n                    },\r\n                  })}\r\n                />\r\n                {/* username input helper message */}\r\n                {errors.username && (\r\n                  <p className=\"helper has-text-danger\">\r\n                    {errors.username.message}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {/* password */}\r\n            <div className=\"field\">\r\n              <label className=\"label has-text-white has-text-weight-light\">\r\n                Password\r\n              </label>\r\n              <div className=\"control\">\r\n                <input\r\n                  className={`input is-size-5 ${\r\n                    errors.password && \"is-danger\"\r\n                  }`}\r\n                  type=\"password\"\r\n                  placeholder=\"password\"\r\n                  name=\"password\"\r\n                  {...register(\"password\", {\r\n                    required: \"password is required.\", //can't be empty\r\n                    minLength: {\r\n                      value: 6, // at least 5 characters\r\n                      message: \"password must be at least 6 characters.\",\r\n                    },\r\n                  })}\r\n                />\r\n                {/* password input helper message */}\r\n                {errors.password && (\r\n                  <p className=\"helper has-text-danger\">\r\n                    {errors.password.message}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {/* confirm password */}\r\n            <div className=\"field mb-6\">\r\n              <label className=\"label has-text-white has-text-weight-light\">\r\n                Confirm Password\r\n              </label>\r\n              <div className=\"control\">\r\n                <input\r\n                  className={`input is-size-5 ${errors.confirm && \"is-danger\"}`}\r\n                  type=\"password\"\r\n                  placeholder=\"confirm password\"\r\n                  name=\"confirm\"\r\n                  {...register(\"confirm\", {\r\n                    required: \"please re-enter your password.\", //can't be empty\r\n                    validate: {\r\n                      validate: (value) =>\r\n                        value === password.current ||\r\n                        \"The passwords do not match.\",\r\n                    },\r\n                  })}\r\n                />\r\n                {/* repeat password input helper message */}\r\n                {errors.confirm && (\r\n                  <p className=\"helper has-text-danger\">\r\n                    {errors.confirm.message}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {/* Register button */}\r\n            <div className=\"control\">\r\n              <motion.button\r\n                whileTap={{\r\n                  scale: 0.9,\r\n                }}\r\n                className=\"button is-fullwidth is-primary has-text-weight-bold is-size-5 hvr-outline-out\"\r\n                onClick={() => {\r\n                  playSound();\r\n                }}\r\n              >\r\n                REGISTER\r\n              </motion.button>\r\n            </div>\r\n            {/* link to Login */}\r\n            <div className=\"label has-text-white has-text-weight-light has-text-centered mt-2\">\r\n              <Link to=\"/login\" className=\"hvr-pulse-grow\">Already have an account? Login here</Link>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </Animated>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n\r\n// Header component for login and register page\r\nexport const RegisterHeader = () => {\r\n  return (\r\n    <div>\r\n      <div className=\"back-header\">\r\n        <div className=\"grid\">\r\n          <div className=\"start\">\r\n            {/* Back to home page */}\r\n            <Link to=\"/\" className=\"hvr-skew-backward\">\r\n              <strong>\r\n                <i className=\"fa-solid fa-arrow-left\"></i> Back\r\n              </strong>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"divider\"></div>\r\n    </div>\r\n  );\r\n};\r\n","import _axios from \"axios\";\r\n\r\n// change the base url when sending axios requests\r\nconst axios = (baseURL) => {\r\n  const instance = _axios.create({\r\n    baseURL: baseURL || process.env.REACT_APP_API_DOMAIN ||\"http://localhost:3001\",\r\n    timeout: 1000,\r\n  });\r\n\r\n  return instance;\r\n};\r\n\r\nexport { axios };\r\n\r\nexport default axios();\r\n"],"names":["props","useForm","register","handleSubmit","watch","errors","formState","password","useRef","current","onSubmit","data","username","axios","type","res","console","log","jwToken","global","auth","setToken","toast","history","push","message","response","animationIn","animationOut","isVisible","RegisterHeader","className","placeholder","name","required","pattern","value","minLength","maxLength","confirm","validate","whileTap","scale","onClick","Audio","clickSound","play","to","baseURL","_axios","process","timeout"],"sourceRoot":""}